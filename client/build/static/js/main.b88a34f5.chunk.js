(this["webpackJsonpmern-template-react-app"]=this["webpackJsonpmern-template-react-app"]||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(13),i=n.n(s),o=n(15),c=n(1),u=n.n(c),l=n(7),m=n(2),h=n(3),p=n(5),f=n(4),d=n(6),b=n(8),v=n(10),j=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).API_URL="/api",n.state={title:"",desc:""},n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"onChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_URL,"/askquestion"),{headers:{"Content-Type":"application/json"},method:"PUT",mode:"cors",body:JSON.stringify({title:this.state.title,desc:this.state.desc})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("Answer: ",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{placeholder:"Write a title here",name:"title",onChange:function(t){return e.onChange(t)},type:"text"}),r.a.createElement("input",{placeholder:"Write a question here",name:"desc",onChange:function(t){return e.onChange(t)},type:"text"}),r.a.createElement("button",{onClick:function(t){return e.onSubmit()}},"Ask Question"))}}]),t}(a.Component),k=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).API_URL="/api",n.state={},n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"onChange",value:function(e){this.setState(Object(v.a)({id:this.props.data},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_URL,"/questions/").concat(this.state.id),{headers:{"Content-Type":"application/json"},method:"PUT",mode:"cors",body:JSON.stringify({id:this.state.id,answer:this.state.answer})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log("Here's the response: ",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Comments"),r.a.createElement("input",{autoComplete:"off",name:"answer",onChange:function(t){return e.onChange(t)},type:"text"}),r.a.createElement("button",{onClick:function(t){return e.onSubmit()}},"Send Answer"))}}]),t}(a.Component),y=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).API_URL="/api",n.state={id:n.props.id},n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"submit",value:function(e){var t=this;this.setState({answer:e},(function(){t.props.submitAnswer(t.state.answer,t.state.id)}))}},{key:"updateVote",value:function(){var e=Object(l.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_URL,"/vote"),{headers:{"Content-Type":"application/json"},method:"PUT",mode:"cors",body:JSON.stringify({answerId:t,vote:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:r=e.sent,console.log("Here's the response: ",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.id,n=this.props.getQuestion(t),a=n.answers.map((function(t){return r.a.createElement("div",{className:"comment"},t.text,r.a.createElement("span",{className:"votes"},"Votes: ",t.votes),r.a.createElement("button",{onClick:function(){e.updateVote(t._id,"up")},className:"btn"},"Upvote"),r.a.createElement("button",{onClick:function(){e.updateVote(t._id,"down")},className:"btn"},"Downvote"))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,n.text),r.a.createElement("p",null,n.desc),r.a.createElement(k,{data:this.state.id,submit:function(t,n){return e.submit(t,n)},onClick:function(t){return e.clicked()}}),a)}}]),t}(a.Component),E=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.data.map((function(e){return r.a.createElement(b.a,{key:Math.random(),to:"/question/"+e._id},r.a.createElement("li",null,e.text))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"All questions"),r.a.createElement("ul",null,e))}}]),t}(a.Component),O=(n(28),function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).API_URL="/api",n.state={questions:[]},n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getQuestions()}},{key:"getQuestions",value:function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_URL,"/questions"));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({questions:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(e,t,n){var a={id:this.state.questions[this.state.questions.length-1].id+1,title:e,question:t,comments:n};this.setState({questions:[].concat(Object(o.a)(this.state.questions),[a])})}},{key:"getQuestion",value:function(e){return this.state.questions.find((function(t){return t._id===e}))}},{key:"submitAnswer",value:function(e,t){this.state.questions.find((function(e){return e.id===t})).comments.unshift(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement(b.a,{to:"/"},r.a.createElement("li",{key:"home"},"Home")),r.a.createElement(b.a,{to:"/"},r.a.createElement("li",{key:"questions"},"Questions")),r.a.createElement(b.a,{to:"/ask"},r.a.createElement("li",{key:"ask"},"Ask a question")))),r.a.createElement(b.b,null,r.a.createElement(j,{path:"/ask",submit:function(t,n,a){return e.submit(t,n,a)}}),r.a.createElement(y,{path:"/question/:id",getQuestion:function(t){return e.getQuestion(t)},submitAnswer:function(t,n){return e.submitAnswer(t,n)}}),r.a.createElement(E,{path:"/",data:this.state.questions})))}}]),t}(a.Component));i.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.b88a34f5.chunk.js.map